(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{192:function(e,t,a){e.exports=a(350)},201:function(e,t,a){},350:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(57),l=a.n(c),i=a(48),o=a(20),u=a(21),s=a(23),d=a(22),p=a(24),E=a(373),m=a(361),h=(a(201),a(53)),f=Object(h.a)(),g=a(359),v=a(372),S=a(360),b=a(367),C=a(363),y=a(25),x=a.n(y),k=a(61),O=a(369),R=a(370),_=a(362),j=a(374),w=a(366),T=a(365),I=a(12),A=a.n(I),U=a(16),L=a(51),N=a.n(L),G={login:function(){var e=Object(U.a)(A.a.mark(function e(t){var a,n;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer"}},e.next=3,N.a.post("/api/login",t,a);case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},D="USERS_LOGIN_REQUEST",H="USERS_LOGIN_SUCCESS",P="USERS_LOGIN_FAILURE",M="USERS_REGISTER_REQUEST",B="USERS_REGISTER_SUCCESS",F="USERS_REGISTER_FAILURE",Q="USERS_LOGOUT",K="LOGGEDReactBaseAppUSER",W="MESSAGE_SUCCESS",J="MESSAGE_ERROR",X="MESSAGE_CLEAR",Y=function(e){return function(t){t({type:W,message:e})}},z=function(e){return console.log(e),function(t){t({type:J,message:e})}},V=function(){return function(e){e({type:X})}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return{type:"success",message:t.message};case J:return{type:"error",message:t.message};case X:return null;default:return e}},Z=a(181),$=null,ee=function(){try{$=localStorage.getItem("userToken")}catch(e){}return{headers:{Authorization:"Bearer "+$}}},te=function(){var e=Object(U.a)(A.a.mark(function e(t){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(t,ee());case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),ae={getAll:function(){return te("/api/exercises")},getOne:function(e){return te("".concat("/api/exercises","/").concat(e))},getAllBySport:function(e){return te("".concat("/api/exercises","/sport/").concat(e))},addNew:function(){var e=Object(U.a)(A.a.mark(function e(t){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("/api/exercises",t,ee());case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteExercise:function(){var e=Object(U.a)(A.a.mark(function e(t){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("".concat("/api/exercises","/").concat(t),ee());case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),updateExercise:function(){var e=Object(U.a)(A.a.mark(function e(t,a){var n;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat("/api/exercises","/").concat(t),a,ee());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},ne={ADD_NEW_REQUEST:"EXERCISE_NEW",ADD_NEW_SUCCESS:"EXERCISE_NEW_SUCCESS",ADD_NEW_FAILURE:"EXERCISE_NEW_FAILURE",GET_ONE_REQUEST:"EXERCISE_GET",GET_ONE_SUCCESS:"EXERCISE_GET_SUCCESS",GET_ONE_FAILURE:"EXERCISE_GET_FAILURE",GET_ALL_REQUEST:"EXERCISES_ALL_GET",GET_ALL_SUCCESS:"EXERCISES_ALL_GET_SUCCESS",GET_ALL_FAILURE:"EXERCISES_ALL_GET_FAILURE",GET_SPORTS_REQUEST:"EXERCISES_BY_SPORT",GET_SPORTS_SUCCESS:"EXERCISES_BY_SPORT_SUCCESS",GET_SPORTS_FAILURE:"EXERCISES_BY_SPORT_FAILURE",DELETE_REQUEST:"DELETE_EXERCISE",UPDATE_REQUEST:"UPDATE_EXERCISE",INITIAL_SORT_COLUMN:"date",DATE_FORMAT:"DD.MM.YYYY"},re=function(e){return{type:ne.ADD_NEW_REQUEST,data:e}},ce=function(e){return{type:ne.GET_ONE_REQUEST,data:e}},le=function(e){return{type:ne.GET_ALL_REQUEST,data:e}},ie=function(e){return{type:ne.GET_SPORTS_REQUEST,data:e}},oe=function(e){return{type:ne.DELETE_REQUEST,data:e}},ue=function(e){return{type:ne.UPDATE_REQUEST,data:{exercise:e}}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.data),console.log(e),t.type){case ne.GET_ALL_REQUEST:case ne.GET_SPORTS_REQUEST:case ne.GET_ONE_REQUEST:return t.data;case ne.ADD_NEW_REQUEST:return Object(Z.a)(e).concat([t.data]);case ne.DELETE_REQUEST:var a=e.findIndex(function(e){return e.id===t.data});return-1===a?e:e.slice(0,a).concat(e.slice(a+1,e.length));case ne.UPDATE_REQUEST:var n=t.data.exercise,r=n.id;return e.map(function(e){return e.id!==r?e:n});default:return e}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loggingIn:!0,username:t.data};case H:return window.localStorage.setItem(K,JSON.stringify(t.data)),{loggingIn:!1,loggedIn:!0,user:t.data};case P:return{loggingIn:!1};case Q:return window.localStorage.clear(),{loggingIn:!1,loggedIn:!1};default:return e}},pe=a(62),Ee=a(163),me={register:function(){var e=Object(U.a)(A.a.mark(function e(t){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,N.a.post("".concat("/api/user","/registration"),t);case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return{signingUp:!0,user:t.data};case B:return{signingUp:!1,user:t.data};case F:return{signingUp:!1};default:return e}},fe=Object(pe.c)({loginReducer:de,userReducer:he,messageReducer:q,exerciseReducer:se}),ge=Object(pe.d)(fe,Object(pe.a)(Ee.a)),ve=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.message;return null===e?null:r.a.createElement(T.a,{className:e.type},e.message)}}]),t}(r.a.Component),Se=Object(i.b)(function(e){return{message:ge.getState().messageReducer}})(ve),be=function(e){var t=e.loggingIn,a=void 0!==t&&t,n=e.handleChange,c=e.handleSubmit;return r.a.createElement("div",{className:"login-form"},r.a.createElement("div",null,r.a.createElement("style",null,"\n          body > div,\n          body > div > div,\n          body > div > div > div.login-form {\n            height: 100%;\n          }\n        "),r.a.createElement(O.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(O.a.Column,{style:{maxWidth:450}},r.a.createElement(R.a,{as:"h2",color:"teal",textAlign:"center"}," Kirjaudu"),r.a.createElement(Se,null),r.a.createElement(_.a,{size:"large",loading:a},r.a.createElement(j.a,{stacked:!0},r.a.createElement(_.a.Input,{name:"username",onChange:n,fluid:!0,icon:"user",iconPosition:"left",placeholder:"User name"}),r.a.createElement(_.a.Input,{name:"password",onChange:n,fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),r.a.createElement(w.a,{onClick:c,color:"teal",fluid:!0,size:"large"},"Kirjaudu"))),r.a.createElement(T.a,null,"New to us? ",r.a.createElement(g.a,{to:"/register"},"Sign up"))))))},Ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleLoginFieldChange=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.handleClick=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;n&&r&&a.props.login({username:n,password:r})},a.state={username:"",password:"",submitted:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(be,{loggingIn:this.props.loggingIn,handleChange:this.handleLoginFieldChange,handleSubmit:this.handleClick})}}]),t}(r.a.Component),ye=Object(i.b)(function(e){return{loggingIn:ge.getState().loginReducer.loggingIn}},{login:function(e){var t=e.username,a=e.password;console.log(t,a);var n={username:t,password:a};return function(e){e(function(e){return{type:D,data:e}}(t)),G.login(n).then(function(t){e(function(e){return{type:H,data:e}}(t)),f.push("/"),console.log(t),localStorage.setItem("user",t.userName),localStorage.setItem("userToken",t.accessToken),function(e){try{JSON.parse(atob(e.split(".")[1]))}catch(t){return null}}(t.accessToken),e(Y("Tervetuloa ".concat(t.userName))),setTimeout(function(){e(V())},5e3)},function(t){e(function(e){return{type:P,error:e}}(t)),e(z(JSON.stringify(t.response.data.message))),setTimeout(function(){e(V())},5e3)})}}})(Ce),xe=function(e){var t=e.signingUp,a=void 0!==t&&t,n=e.handleChange,c=e.handleSubmit,l=e.passwordError;return r.a.createElement("div",{className:"login-form"},r.a.createElement("div",null,r.a.createElement("style",null,"\n              body > div,\n              body > div > div,\n              body > div > div > div.login-form {\n                height: 100%;\n              }\n            "),r.a.createElement(O.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(O.a.Column,{style:{maxWidth:450}},r.a.createElement(R.a,{as:"h2",color:"teal",textAlign:"center"}," Register"),r.a.createElement(Se,null),r.a.createElement(_.a,{size:"large",loading:a},r.a.createElement(j.a,{stacked:!0},r.a.createElement(_.a.Input,{name:"username",onChange:n,fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username"}),r.a.createElement(_.a.Input,{name:"password",onChange:n,fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),r.a.createElement(_.a.Input,{name:"password2",onChange:n,fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",error:l}),r.a.createElement(w.a,{onClick:c,color:"teal",fluid:!0,size:"large"},"Rekister\xf6idy")))))))},ke=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleLoginFieldChange=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.handleClick=function(e){e.preventDefault(),console.log("TASSAOANBAI");var t=a.state,n=t.username,r=t.password,c=t.password2;if(console.log(n),console.log(r),console.log(c),n&&r===c){var l={username:n,password:r};a.props.register(l)}else r!==c&&(a.setState({passwordError:!a.state.passwordError}),console.log("VAARIN ON SALASAANT"))},a.state={username:"",password:"",password2:"",passwordError:!1,submitted:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){this.state.submitted;return r.a.createElement(xe,{signingUp:this.props.signingUp,handleChange:this.handleLoginFieldChange,handleSubmit:this.handleClick,passwordError:this.state.passwordError})}}]),t}(r.a.Component),Oe=Object(i.b)(function(e){return{signingUp:ge.getState().userReducer.signingUp}},{register:function(e){return console.log(e),function(t){t(function(e){return{type:M,data:e}}(e)),me.register(e).then(function(e){t(function(e){return{type:B,data:e}}(e)),f.push("/login"),console.log(e),t(Y("".concat(e.message))),setTimeout(function(){t(V())},5e3)},function(e){t(function(e){return{type:F,error:e}}(e)),t(z(JSON.stringify(e.response.data.message))),setTimeout(function(){t(V())},5e3)})}}})(ke),Re=function(){return r.a.createElement("div",null,r.a.createElement(Se,null),"KOTI")},_e=a(371),je=a(178),we=a.n(je),Te=a(364),Ie=a(160),Ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).toggleVisibility=function(){a.setState({visible:!a.state.visible})},a.state={visible:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){this.state.visible;var e={display:this.state.visible?"":"none"};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(w.a,{onClick:this.toggleVisibility,fluid:!0,size:"large"},this.state.visible?"Peruuta":this.props.buttonLabel)),r.a.createElement("div",{style:e},this.props.children))}}]),t}(r.a.Component),Ue=a(52),Le=a.n(Ue),Ne=[{key:"RUN",text:"Juoksu",value:"Juoksu"},{key:"SKI",text:"Hiihto",value:"Hiihto"},{key:"WAL",text:"K\xe4vely",value:"K\xe4vely"}],Ge=[{key:"S18",text:"Hiihto 18-19",value:"Hiihto1819"},{key:"R18",text:"Juoksu 2018",value:"Juoksu2018"},{key:"R19",text:"Juoksu 2019",value:"Juoksu2019"}],De=function(e){var t=e.handleSportChange,a=e.handleChange,n=e.sport,c=void 0===n?"":n,l=e.distance,i=void 0===l?"":l,o=e.hours,u=void 0===o?"":o,s=e.minutes,d=void 0===s?"":s;return r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Select,{label:"Laji",name:"sport",options:Ne,onChange:t,defaultValue:c}),r.a.createElement(_.a.Input,{label:"Matka",name:"distance",type:"number",min:0,max:9999,placeholder:0,onChange:a,defaultValue:i}),r.a.createElement(_.a.Input,{label:"Tunnit",name:"hours",type:"number",min:0,max:9999,placeholder:0,onChange:a,defaultValue:u}),r.a.createElement(_.a.Input,{label:"Minuutit",name:"minutes",type:"number",min:0,max:59,placeholder:0,onChange:a,defaultValue:d}))},He=function(e){var t=e.handleChange,a=e.date,n=void 0===a?Le()().format(ne.DATE_FORMAT):a,c=e.avgHeartRate,l=void 0===c?"":c,i=e.maxHeartRate,o=void 0===i?"":i;return r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Input,{label:"P\xe4iv\xe4",name:"date",type:"date",onChange:t,defaultValue:n}),r.a.createElement(_.a.Input,{label:"Syke ka",name:"avgheartrate",type:"number",min:0,max:500,onChange:t,defaultValue:l}),r.a.createElement(_.a.Input,{label:"max syke",name:"maxheartrate",type:"number",min:0,max:500,onChange:t,defaultValue:o}),r.a.createElement(_.a.Select,{label:"Kausi",name:"season",options:Ge,type:"text"}))},Pe=function(e){var t=e.handleChange,a=e.description,n=void 0===a?"":a;return r.a.createElement(_.a.TextArea,{label:"Kuvaus",name:"description",type:"text",onChange:t,defaultValue:n})},Me=function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleSportChange,c=e.content,l=(e.handleContent,c.sport),i=c.distance,o=c.hours,u=c.minutes,s=c.date,d=c.description,p=c.avgHeartRate,E=c.maxHeartRate;return r.a.createElement(j.a,null,r.a.createElement(_.a,null,r.a.createElement(De,{handleSportChange:n,handleChange:a,sport:l,distance:i,hours:o,minutes:u}),r.a.createElement(He,{handleChange:a,date:s,avgHeartRate:p,maxHeartRate:E}),r.a.createElement(Ae,{buttonLabel:"Kuvaus"},r.a.createElement(Pe,{handleChange:a,description:d})),r.a.createElement(w.a,{onClick:t,color:"teal",fluid:!0,size:"large"},"P\xe4ivit\xe4")))},Be=function(e){var t=e.handleSubmit,a=e.handleChange,n=e.handleSportChange;return r.a.createElement(j.a,null,r.a.createElement(_.a,null,r.a.createElement(De,{handleSportChange:n,handleChange:a}),r.a.createElement(He,{handleChange:a}),r.a.createElement(Ae,{buttonLabel:"Kuvaus"},r.a.createElement(Pe,{handleChange:a})),r.a.createElement(w.a,{onClick:t,color:"teal",fluid:!0,size:"large"},"Lis\xe4\xe4 uusi")))},Fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).componentWillMount=function(){var e=a.props.content;null!==e&&void 0!==e&&a.setState(e)},a.handleSelectChange=function(e,t){var n=t.value;a.setState({sport:n})},a.handleFieldChange=function(e){a.setState(Object(k.a)({},e.target.name,e.target.value))},a.handleClick=function(){var e=Object(U.a)(A.a.mark(function e(t){var n;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,e.next=4,a.props.exerciseCreation(n);case 4:a.props.handleSubmit();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleUpdate=function(){var e=Object(U.a)(A.a.mark(function e(t){var n,r;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.props.content.id,r=a.state,e.next=5,a.props.exerciseUpdating(n,r);case 5:a.props.handleSubmit();case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={sport:"Juoksu",distance:0,hours:0,minutes:0,date:"",avgheartrate:0,maxheartrate:0,description:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return null!==this.props.content&&void 0!==this.props.content?r.a.createElement(Me,{handleChange:this.handleFieldChange,handleSubmit:this.handleUpdate,handleSportChange:this.handleSelectChange,content:this.props.content}):r.a.createElement(Be,{handleChange:this.handleFieldChange,handleSubmit:this.handleClick,handleSportChange:this.handleSelectChange})}}]),t}(r.a.Component),Qe=Object(i.b)(function(e,t){return{updating:t.updating,content:t.content}},{exerciseCreation:function(e){return function(){var t=Object(U.a)(A.a.mark(function t(a){var n;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.addNew(e);case 2:n=t.sent,console.log(n),a(re(n));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},exerciseUpdating:function(e,t){return console.log(t),console.log("Updating ".concat(e," to ").concat(t)),function(){var a=Object(U.a)(A.a.mark(function a(n){var r;return A.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ae.updateExercise(e,t);case 2:r=a.sent,n(ue(r));case 4:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}})(Fe),Ke=function(e){var t=e.weekData;return r.a.createElement(Te.a,{sortable:!0,celled:!0,fixed:!0},r.a.createElement(Te.a.Header,null,r.a.createElement(Te.a.Row,null,r.a.createElement(Te.a.HeaderCell,null," Laji "),r.a.createElement(Te.a.HeaderCell,null,"Viikko"),r.a.createElement(Te.a.HeaderCell,null,"Matka"),r.a.createElement(Te.a.HeaderCell,null,"Aika"))),r.a.createElement(Te.a.Body,null,x.a.map(t,function(e){var t=e.sport,a=e.week,n=e.total;return r.a.createElement(Te.a.Row,{key:t+a},r.a.createElement(Te.a.Cell,null,t),r.a.createElement(Te.a.Cell,null,a),r.a.createElement(Te.a.Cell,null,n),r.a.createElement(Te.a.Cell,null,"AIKA T\xc4H\xc4N"))})))},We=function(e){var t=e.data,a=(x()(t).groupBy("sport").map(function(e,t){return{sport:t,distance:x.a.sumBy(e,"distance")}}).value(),x.a.map(t,function(e){var a=e.date,n=e.distance,r=e.time;return{sport:e.sport,distance:n,time:r,weekAndYear:Le()(a).isoWeek()+"/"+Le()(a).year(),monthAndYear:Le()(t).month()+"/"+Le()(a).year()}})),n=x()(a).groupBy("weekAndYear").map(function(e,t){return{week:t,total:x.a.sumBy(e,"distance")}}).value();return r.a.createElement(Ke,{weekData:n})},Je=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(We,{data:this.props.data})}}]),t}(r.a.Component),Xe=function(e){var t=e.handleSort,a=e.column,n=e.data,c=e.direction,l=e.modifyExercise,i=e.deleteExercise;return r.a.createElement(Te.a,{sortable:!0,celled:!0,fixed:!0},r.a.createElement(Te.a.Header,null,r.a.createElement(Te.a.Row,null,r.a.createElement(Te.a.HeaderCell,{sorted:"sport"===a?c:null,onClick:t("sport")},"Laji"),r.a.createElement(Te.a.HeaderCell,{sorted:"distance"===a?c:null,onClick:t("distance")},"Matka"),r.a.createElement(Te.a.HeaderCell,null,"Aika"),r.a.createElement(Te.a.HeaderCell,{sorted:"date"===a?c:null,onClick:t("date")},"P\xe4iv\xe4"),r.a.createElement(Te.a.HeaderCell,{width:1}))),r.a.createElement(Te.a.Body,null,x.a.map(n,function(e){var t=e.id,a=e.sport,n=e.distance,c=e.hours,o=e.minutes,u=e.date;return r.a.createElement(Te.a.Row,{key:t},r.a.createElement(Te.a.Cell,{onClick:l(t)},a),r.a.createElement(Te.a.Cell,null,n),r.a.createElement(Te.a.Cell,null,c,":",o),r.a.createElement(Te.a.Cell,null,r.a.createElement(we.a,{format:"DD.MM.YY"},u)),r.a.createElement(Te.a.Cell,{onClick:i(t)},r.a.createElement(Ie.a,{name:"delete"})))})))},Ye=[{key:"ALL",text:"Kaikki",value:""},{key:"RUN",text:"Juoksu",value:"Juoksu"},{key:"SKI",text:"Hiihto",value:"Hiihto"},{key:"WAL",text:"K\xe4vely",value:"K\xe4vely"}],ze=function(e){var t=e.handleSportChange;return r.a.createElement(j.a,null,r.a.createElement(_.a,null,r.a.createElement(_.a.Select,{label:"Laji",name:"sport",options:Ye,onChange:t})))},Ve=function(e){var t=e.exercise,a=e.handleSubmit;return console.log(t),null===t?r.a.createElement("div",null):r.a.createElement(Qe,{content:t,handleSubmit:a})},qe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).componentWillMount=Object(U.a)(A.a.mark(function e(){var t;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.sport){e.next=5;break}return e.next=3,a.props.filterBySport(a.props.sport);case 3:e.next=7;break;case 5:return e.next=7,a.props.exerciseInitialization();case 7:a.setState({data:a.props.exercises}),t=a.state.data,a.setState({column:ne.INITIAL_SORT_COLUMN,data:x.a.sortBy(t,[ne.INITIAL_SORT_COLUMN]).reverse(),sport:a.props.sport});case 10:case"end":return e.stop()}},e,this)})),a.componentWillUpdate=function(){console.log("WILL UPDATE")},a.handleSort=function(e){return function(){var t=a.state,n=t.column,r=t.data,c=t.direction;n===e?a.setState({data:r.reverse(),direction:"ascending"===c?"descending":"ascending"}):a.setState({column:e,data:x.a.sortBy(r,[e]),direction:"ascending"})}},a.modifyExercise=function(e){return Object(U.a)(A.a.mark(function t(){var n;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a.state.data.find(function(t){return t.id===e}),a.setState({exercise:n});case 2:case"end":return t.stop()}},t,this)}))},a.updateExerciseTable=function(){a.setState({data:a.props.exercises});var e=a.state,t=e.data,n=e.column;a.setState({data:x.a.sortBy(t,[n])})},a.updateExercise=function(){a.updateExerciseTable(),a.setState({exercise:null})},a.deleteExercise=function(e){return Object(U.a)(A.a.mark(function t(){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.props.exerciseRemoving(e);case 2:a.updateExerciseTable();case 3:case"end":return t.stop()}},t,this)}))},a.handleChange=function(){var e=Object(U.a)(A.a.mark(function e(t){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.filterBySport(t);case 2:a.updateExerciseTable();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleSportChange=function(){var e=Object(U.a)(A.a.mark(function e(t,n){var r;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(r=n.value)){e.next=7;break}return a.props.history.push("/harjoitukset"),e.next=5,a.props.exerciseInitialization();case 5:e.next=10;break;case 7:return a.props.history.push("/harjoitukset/laji/".concat(r)),e.next=10,a.props.filterBySport(r);case 10:a.updateExerciseTable();case 11:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.state={column:null,data:[],direction:null,sport:"",exercise:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.column,a=e.data,n=e.direction;return this.state.sport,this.props.sport,r.a.createElement("div",null,r.a.createElement(ze,{handleSportChange:this.handleSportChange}),r.a.createElement(Ve,{exercise:this.state.exercise,handleSubmit:this.updateExercise}),r.a.createElement(Ae,{buttonLabel:"Lis\xe4\xe4 harjoitus"},r.a.createElement(Qe,{handleSubmit:this.updateExerciseTable})),r.a.createElement(Ae,{buttonLabel:"Yhteenveto"},r.a.createElement(Je,{data:a})),r.a.createElement(Xe,{handleSort:this.handleSort,column:t,data:a,direction:n,modifyExercise:this.modifyExercise,deleteExercise:this.deleteExercise}))}}]),t}(r.a.Component),Ze=Object(_e.a)(Object(i.b)(function(e,t){return console.log(ge.getState()),{exercises:ge.getState().exerciseReducer,sport:t.sport}},{exerciseInitialization:function(){return function(){var e=Object(U.a)(A.a.mark(function e(t){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.getAll();case 2:a=e.sent,t(le(a));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},getOneExercise:function(e){return function(){var t=Object(U.a)(A.a.mark(function t(a){var n;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.getOne(e);case 2:n=t.sent,console.log("HAETAAN "+n),a(ce(n));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},exerciseRemoving:function(e){return function(){var t=Object(U.a)(A.a.mark(function t(a){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.deleteExercise(e);case 2:t.sent,a(oe(e));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},filterBySport:function(e){return function(){var t=Object(U.a)(A.a.mark(function t(a){var n;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.getAllBySport(e);case 2:n=t.sent,a(ie(n));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}})(qe)),$e=a(368),et=Object(i.b)(null,{logout:function(){return function(e){e({type:Q})}}})(function(e){return console.log("LOGGING OUT"),e.logout(),r.a.createElement($e.a,{to:"/"})}),tt=function(){return r.a.createElement(b.a.Menu,null,r.a.createElement(b.a.Item,{as:g.a,to:"/harjoitukset"},"harjoitukset"))},at=function(){return r.a.createElement(b.a.Menu,{position:"right"},r.a.createElement(b.a.Item,null,window.localStorage.getItem("user")),r.a.createElement(b.a.Item,{as:g.a,to:"/logout"},"kirjaudu ulos"))},nt=[{key:"ALL",text:"Kaikki",value:""},{key:"RUN",text:"Juoksu",value:"Juoksu"},{key:"SKI",text:"Hiihto",value:"Hiihto"},{key:"WAL",text:"K\xe4vely",value:"K\xe4vely"}],rt=function(e){e.match;return r.a.createElement(b.a.Menu,null,r.a.createElement(C.a,{item:!0,text:"Harjoitukset"},r.a.createElement(C.a.Menu,null,x.a.map(nt,function(e){var t=e.text;return r.a.createElement(C.a.Item,{key:t,as:g.a,to:"/harjoitukset/laji/".concat(t)},t)}))))},ct=function(){return r.a.createElement("div",null,r.a.createElement(b.a,{inverted:!0},r.a.createElement(b.a.Item,{as:g.a,to:"/"},"koti"),window.localStorage.getItem(K)?r.a.createElement(r.a.Fragment,null,r.a.createElement(tt,null),r.a.createElement(rt,null),r.a.createElement(at,null)):r.a.createElement(b.a.Item,{position:"right",as:g.a,to:"/login"},"kirjaudu")),r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement(S.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Re,null)}}),r.a.createElement(S.a,{path:"/login",render:function(e){var t=e.history;return r.a.createElement(ye,{history:t})}}),r.a.createElement(S.a,{path:"/register",render:function(){return r.a.createElement(Oe,null)}}),r.a.createElement(S.a,{path:"/logout",render:function(){return r.a.createElement(et,null)}}),r.a.createElement(S.a,{path:"/harjoitukset/laji/:sport?",render:function(e){var t=e.match;return r.a.createElement(Ze,{sport:t.params.sport})}}),r.a.createElement(S.a,{path:"/harjoitukset",render:function(){return r.a.createElement(Ze,null)}}))))},lt=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(s.a)(this,Object(d.a)(t).call(this,e)),f.listen(function(t,a){e.clearMsg()}),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(E.a,{history:f},r.a.createElement(ct,null)))}}]),t}(n.Component),it=Object(i.b)(null,{clearMsg:V})(lt),ot=function(){l.a.render(r.a.createElement(i.a,{store:ge},r.a.createElement(it,null)),document.getElementById("root"))};ot(),ge.subscribe(ot)}},[[192,2,1]]]);
//# sourceMappingURL=main.9613cde5.chunk.js.map